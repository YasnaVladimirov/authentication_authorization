{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\js\\\\react-apps\\\\react-auth\\\\client\\\\src\\\\components\\\\PersistLogin.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport useAuth from \"../hooks/useAuth\";\nimport useRefreshToken from \"../hooks/useRefreshToken\";\nimport { Outlet } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction PersistLogin() {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const {\n    auth,\n    persist\n  } = useAuth();\n  const refresh = useRefreshToken();\n  useEffect(() => {\n    const verifyRefreshToken = async () => {\n      try {\n        await refresh();\n      } catch (error) {\n        console.error(\"Error, \", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    !(auth !== null && auth !== void 0 && auth.accessToken) ? verifyRefreshToken() : setIsLoading(false);\n  }, [auth, refresh]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !persist ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }, this) : isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading ... \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(PersistLogin, \"mQZCa2L4G3ICm6leV/meU8tkv9U=\", false, function () {\n  return [useAuth, useRefreshToken];\n});\n_c = PersistLogin;\nexport default PersistLogin;\nvar _c;\n$RefreshReg$(_c, \"PersistLogin\");","map":{"version":3,"names":["useState","useEffect","useAuth","useRefreshToken","Outlet","jsxDEV","_jsxDEV","Fragment","_Fragment","PersistLogin","_s","isLoading","setIsLoading","auth","persist","refresh","verifyRefreshToken","error","console","accessToken","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/js/react-apps/react-auth/client/src/components/PersistLogin.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport useAuth from \"../hooks/useAuth\";\r\nimport useRefreshToken from \"../hooks/useRefreshToken\";\r\nimport { Outlet } from \"react-router-dom\";\r\n\r\nfunction PersistLogin() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { auth, persist } = useAuth();\r\n  const refresh = useRefreshToken();\r\n\r\n  useEffect(() => {\r\n\r\n    const verifyRefreshToken = async () => {\r\n      try {\r\n        await refresh();\r\n\r\n      } catch (error) {\r\n        console.error(\"Error, \", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n\r\n    !auth?.accessToken ? verifyRefreshToken() : setIsLoading(false);\r\n  }, [auth, refresh])\r\n\r\n  return (\r\n    <>\r\n      {!persist\r\n        ? <Outlet />\r\n        : isLoading\r\n          ? <p>Loading ... </p>\r\n          : <Outlet />\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PersistLogin"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,OAAO,MAAM,kBAAkB;AACtC,OAAOC,eAAe,MAAM,0BAA0B;AACtD,SAASC,MAAM,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE1C,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM;IAAEa,IAAI;IAAEC;EAAQ,CAAC,GAAGZ,OAAO,CAAC,CAAC;EACnC,MAAMa,OAAO,GAAGZ,eAAe,CAAC,CAAC;EAEjCF,SAAS,CAAC,MAAM;IAEd,MAAMe,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACrC,IAAI;QACF,MAAMD,OAAO,CAAC,CAAC;MAEjB,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MACjC,CAAC,SAAS;QACRL,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IAED,EAACC,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEM,WAAW,IAAGH,kBAAkB,CAAC,CAAC,GAAGJ,YAAY,CAAC,KAAK,CAAC;EACjE,CAAC,EAAE,CAACC,IAAI,EAAEE,OAAO,CAAC,CAAC;EAEnB,oBACET,OAAA,CAAAE,SAAA;IAAAY,QAAA,EACG,CAACN,OAAO,gBACLR,OAAA,CAACF,MAAM;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GACVb,SAAS,gBACPL,OAAA;MAAAc,QAAA,EAAG;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBACnBlB,OAAA,CAACF,MAAM;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC,gBAEhB,CAAC;AAEP;AAACd,EAAA,CA/BQD,YAAY;EAAA,QAEOP,OAAO,EACjBC,eAAe;AAAA;AAAAsB,EAAA,GAHxBhB,YAAY;AAiCrB,eAAeA,YAAY;AAAA,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}